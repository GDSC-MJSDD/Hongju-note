# 12장 함수

## 12.1 함수란?

프로그래밍 언어의 함수는 **일련의 과정을 문(statement)로 구현하고, 코드 블록으로 감싸서 하나의 실행 단위로 정의한 것**이다.
<br/>

- 매개변수, 인수, 반환값
  - 매개변수(parameter) : 함수 내부로 입력을 전달받는 변수
  - 인수(argument) : 입력
  - 반환값(return value) : 출력
  ```javascript
  function add(x, y) {
    //add : 함수이름 / x,y : 매개변수
    return x + y; // x+y : 반환값
  }
  add(2, 5); // 2,5 : 인수
  ```
  함수는 함수 정의 + 함소 호출로 실행된다.
  <br/>

## 12.2 함수를 사용하는 이유

1. 코드의 재사용 : 매번 같은 코드 쓸 필요 x
2. 유지보수의 편의성
3. 코드의 신뢰성
4. 코드의 가독성
   <br/>

## 12.3 함수 리터럴

js의 함수는 **객체 타입의 값**이다. 리터럴로 생성 가능하다. 또한, **함수는 객체이다**
_cf. 리터럴 : 사람이 이해할 수 있는 문자 또는 약속된 기호를 사용해 값을 생성하는 표기 방식_<br/>
| 구성요소 | 설명 |
| ---- | --------------------- |
| 함수 이름 | 함수 이름 = 식별자 => 네이밍규칙 준수<br/>함수 이름은 함수 몸체 내에서만 참조 가능<br/>함수 이름 생략 가능. (기명함수 : 이름 o, 무명/익명함수 : 이름 x)|
| 매개변수 목록 | 0개 이상의 매개변수를 소괄호로 감싸고 ,로 구분<br/>함수를 호출할 때 지정한 인수가 순서대로 할당(매개변수 순서가 의미가 있음)<br/>매개변수는 함 수 내에서 변수와 동일 취급|
| 함수 몸체 | 함수가 호출되었을 때 실행되는 문들을 하나의 실행단위로 정의한 코드 블록<br/>함수몸체는 함수 호출에 의해 실행 |
<br/>

## 12.4 함수 정의

함수를 정의하는 방법은 1.함수 선언문, 2.함수 표현식, 3.Function 생성자 함수, 4.화살표 함수 총 4가지가 있다.

### 1. 함수 선언문

```javascript
funtion add(x,y){
 return x+y;
}
```

- 함수 선언문은 함수 이름을 생략할 수 없다.
- 함수 선언문은 표현식이 아닌 문이다.
  문은 변수에 할당할 수 없다. (5장) 하지만, 아래의 예제에서는 문이 변수에 **할당되는 것 처럼** 보인다.

  ```javascript
  var add = function add(x, y) {
    return x + y;
  };
  console.log(add(2, 5)); //7
  ```

  이런 상황이 발생하는 이유는 자바스크립트 엔진이 '표현식인 문인 함수 리터럴 표현식'으로 해석하는 경우가 있기 때문이다.동일한 코드가 문맥에 따라 해석이 달라질 수 있다는 것이다.<br/>
  <br/>
  자바스크립트 엔진은 생성된 함수를 호출하기 위해 함수이름의 식별자를 암묵적으로 생성하고, 거기에 함수 객체를 할당한다. 즉, 함수는 이름으로 호출하는 것이 아니라, **함수 객체를 가리키는 식별자**로 호출한다.<br/>
  함수 선언문은 **표현식이 아닌 문**이다.
  <br/>

- 함수 호이스팅
  함수 선언문은 **선언 이전**에 호출 가능하다. 이런 특징을 함수 호이스팅이라고 한다.<br/>

### 2. 함수 표현식

```javascript
var add = function (x, y) {
  return x + y;
};
console.log(add(2, 5)); // 7
```

js의 함수는 **일급 객체**의 특성을 가진다. 함수가 값처럼 변수에 할당이 가능하고, 프로퍼티 또는 배열의 요소가 가능하다는 것이다.
<br/>
따라서 위의 코드처럼 변수에 할당이 가능하다. 이때, 함수 리터럴은 함수 이름을 생략할 수 있고, 함수 표현식에서는 함수 이름을 생략하는 것이 일반적이다.<br/>
함수 선언문은 **표현식인 문**이다.
<br/>

- 변수 호이스팅
  함수 표현식은 선언 이전에 호출 할 수 없다. 함수가 변수에 할당되어, 변수 호이스팅이 발생하기 때문이다.<br/>
  따라서, 함수 표현식 이전에 함수를 참조하면 undefined로 평가된다.
  <br/>

### 3. Function 생성자 함수

```javascript
var add = new Function("x", "y", "return x+y");
console.log(add(2, 5));
```

Function 생성자로 함수를 생성하는 것은 일반적이지 않으며 바람직하지 않다.

### 4. 화살표 함수

```javascript
const add = (x, y) => x + y;
console.log(add(2, 5));
```

<br/>

## 12.5 함수 호출

함수는 매개변수의 개수와 인수의 개수가 일치하는지 체크하지 않는다. >> 일치하지 않아도 error 발생 x<br/>
따라서, 인수가 부족하다면 undefined가 할당된다. 반대로, 초과된 인수는 무시한다.<br/>
<br/>
매개변수는 최대 3개 이상을 넘지 않는 것을 권장한다.

<br/>

## 12.6 참조에 의한 전달과 외부 상태의 변경

- 원시 타입의 인수는 값 자체가 복사되어 매개변수에 전달되기 때문에 재할당해도 원본은 훼손되지 않는다.
- 객체 타입의 인수는 참조 값이 복사되어 매개변수에 전달되기 때문에 재할당을 하면 원본이 훼손된다.

<br/>

## 12.7 다양한 함수의 형태

### 1. 즉시 실행함수

즉시 실행 함수는 단 한번만 호출되고 다시 호출할 수 없다.

```javascript
//기명 즉시 실행 함수
(function foo() {
  var a = 3;
  var b = 3;
  return a * b;
})();
```

### 2. 재귀 함수

함수가 자기 자신을 호출하는 것을 재귀 호출이라고 하고, 재귀 호출을 하는 함수를 재귀 함수라고 한다.<br/>
대표적으로 factorial 함수.<br/>
재귀 함수 내에는 호출을 멈출 수 있는 탈출 조건이 있어야 무한 재귀 호출에서 벗어날 수 있다.<br/>

### 3. 중첩 함수

함수 내부에 함수가 정의된 함수를 중첩 함수라고 한다.<br/>

### 4. 콜백 함수

### 5. 순수 함수와 비순수 함수

- 순수 함수 : 외부 상태에 의존하지 않고 변경하지도 않는 함수<br/>
- 비순수 함수 : 외부 상태에 의존하고, 상태를 변경하는 함수<br/>
  _cf. 외부 상태 ex. 전역변수, 서버 데이터, 파일, Console, DOM 등_

<br/>

## 3줄 요약

### 1. 함수를 정의한느 방법은 4가지(함수 선언문, 함수 표현식, Function 생성자 함수, 화살표 함수)가 있다.

### 2. js의 함수는 일급 객체이다.

### 3. 즉시 실행, 재귀, 중첩, 콜백, 순수/비순수 함수와 같이 다양한 함수 형태가 있다.
